{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":""},{"location":"#welcome-to-dutch-rose-media-documentation","title":"Welcome to Dutch Rose Media Documentation","text":""},{"location":"#libraries","title":"Libraries:","text":""},{"location":"#cms-content-management-service-docs","title":"CMS (Content Management Service): Docs","text":""},{"location":"#placeables-toolkit-comdutchrosemediaplaceablestoolkit","title":"Placeables Toolkit: com.dutchrosemedia.placeablestoolkit","text":""},{"location":"cms/","title":"Dutch Rose CMS (Content Management Service)","text":""},{"location":"cms/#introduction","title":"Introduction","text":"<p>A Content Management System for managing applications, templates, projects, and content delivery via AWS S3.</p>"},{"location":"cms/#prerequisites","title":"Prerequisites","text":"<ul> <li>Docker (version 20.10 or higher)</li> <li>Docker Compose (version 1.29 or higher)</li> </ul>"},{"location":"cms/#installation","title":"Installation","text":""},{"location":"cms/#1-fetch-the-docker-image-from-the-dockerhub","title":"1. Fetch the Docker Image from the DockerHub","text":"<p>WIP: You can fetch the Docker Image from the DockerHub</p> <p>Now proceed to Setup from DockerHub instructions below.</p>"},{"location":"cms/#2-build-from-git","title":"2. Build from Git","text":"<p>Clone the repository:</p> <pre><code>git clone https://github.com/Dutch-Rose-Media/CMS.git\ncd CMS\n</code></pre> <p>Then follow the Setup from GIT instructions below.</p>"},{"location":"cms/#setup-from-git-instructions","title":"Setup from GIT instructions","text":""},{"location":"cms/#1-create-your-own-env-file","title":"1. Create your own .env file","text":"<p>For more info check the Environment Variables Reference</p> <ul> <li>Copy <code>.env.example</code> to <code>.env</code></li> <li>Set <code>AWS_ACCESS_KEY_ID</code> in <code>.env</code></li> <li>Set <code>AWS_SECRET_ACCESS_KEY</code> in <code>.env</code></li> <li>Set a strong <code>DB_PASSWORD</code> in <code>.env</code></li> <li>Configure <code>AWS_REGION</code> if not using us-east-1</li> <li>Update <code>CORS_ORIGINS</code> with your actual domains</li> </ul>"},{"location":"cms/#2-generate-secret-key-base","title":"2. Generate Secret Key Base","text":"<p>Generate a secure secret key base:</p> <pre><code># If you have Ruby installed locally:\nrake secret\n\n# Or use openssl:\nopenssl rand -hex 64\n</code></pre> <p>Add this to your <code>.env</code> file as <code>SECRET_KEY_BASE</code>.</p> AWS Configuration <ul> <li>Verify AWS credentials have S3 access permissions</li> <li>Confirm S3 buckets exist and are accessible</li> <li>Check IAM policy allows required S3 operations (PutObject, GetObject, DeleteObject, ListBucket)</li> <li>Verify AWS region matches your S3 bucket locations</li> </ul>"},{"location":"cms/#3-file-permissions","title":"3. File Permissions","text":"<ul> <li><code>docker-setup.sh</code> is executable (<code>chmod +x docker-setup.sh</code>)</li> </ul> Git Configuration <ul> <li>Verify <code>.env</code> is in <code>.gitignore</code></li> <li>Verify <code>config/database.yml</code> is in <code>.gitignore</code> (if not using the template)</li> <li>Never commit actual credentials to version control</li> </ul>"},{"location":"cms/#4-setup","title":"4. Setup","text":""},{"location":"cms/#easy-setup","title":"Easy setup","text":"<pre><code># Run automated setup\n./docker-setup.sh\n</code></pre>"},{"location":"cms/#normal-setup","title":"Normal setup","text":"<pre><code># Build docker service\ndocker-compose -f docker-compose.yml build\n\n# Start services\ndocker-compose -f docker-compose.yml up -d\n\n# Check logs\ndocker-compose -f docker-compose.yml logs -f\n</code></pre>"},{"location":"cms/#5-create-a-secret-key","title":"5. Create a secret key","text":"<pre><code>docker-compose exec web rails console \n</code></pre> <p>next run the following command to create an API key:</p> <pre><code>ApiKey.create\n</code></pre> <p>You should see output similar to:</p> <pre><code>=&gt; #&lt;ApiKey id: 2, access_token: \"9e2ae5b0fe6f4bb2612c8aa498ef87df\", created_at: \"2025-11-14 14:50:39\", updated_at: \"2025-11-14 14:50:39\"&gt;\n</code></pre> <p>Finally to exit the rails console, type <code>exit</code></p> <p>Keep the secret key safe!</p> <ul> <li>Be sure to keep the secret key as you will need to use it in other libraries to access the CMS.</li> </ul>"},{"location":"cms/#6-database-management-not-needed","title":"6. Database Management (Not Needed)","text":"<pre><code># Create database\ndocker-compose exec web bundle exec rake db:create\n\n# Run migrations\ndocker-compose exec web bundle exec rake db:migrate\n\n# Rollback migration\ndocker-compose exec web bundle exec rake db:rollback\n\n# Reset database (!!! WARNING: deletes all data)\ndocker-compose exec web bundle exec rake db:reset\n\n# Access MySQL console\ndocker-compose exec db mysql -u root -p\n</code></pre>"},{"location":"cms/#setup-from-dockerhub-instructions","title":"Setup from DockerHub instructions","text":""},{"location":"cms/#1-create-your-own-env-file_1","title":"1. Create your own .env file","text":"<p>Same as above in 1. Create your own .env file</p>"},{"location":"cms/#2-generate-secret-key-base_1","title":"2. Generate Secret Key Base","text":"<p>Same as above in 2. Generate Secret Key Base</p>"},{"location":"cms/#3-setup-required-services","title":"3. Setup required services","text":"<p>The CMS requires a MySQL database. You can use Docker Compose to set up the database service. Create a <code>docker-compose.yml</code> file with the following content:</p> <pre><code>version: '3.8'\nservices:\n    db:\n        image: mysql:8.0\n        command: --default-authentication-plugin=mysql_native_password --character-set-server=utf8mb4 --collation-server=utf8mb4_unicode_ci\n        environment:\n            MYSQL_ROOT_PASSWORD: ${DB_PASSWORD}\n            MYSQL_DATABASE: ${DB_NAME}\n            MYSQL_USER: ${DB_USERNAME}\n            MYSQL_PASSWORD: ${DB_PASSWORD}\n        ports:\n            - \"3306:3306\"\n        volumes:\n            - db_data:/var/lib/mysql\n            - ./docker/mysql-init.sh:/docker-entrypoint-initdb.d/init.sh\n\n    web:\n    image: dutch-rose-media/cms:v1\n    platform: linux/amd64 # Ensures compatibility on Apple Silicon Macs\n    restart: always\n    command: bash -c \"mkdir -p tmp/pids tmp/sockets log &amp;&amp; bundle exec rake db:create db:migrate db:seed &amp;&amp; bundle exec unicorn -c config/unicorn.rb\"\n    ports:\n      - \"3000:3000\"\n    depends_on:\n      - db\n    environment:\n      # Database Configuration\n      DB_HOST: db\n      DB_PORT: 3306\n      DB_NAME: ${DB_NAME}\n      DB_USERNAME: ${DB_USERNAME}\n      DB_PASSWORD: ${DB_PASSWORD}\n\n      # Rails production configuration\n      # RAILS_ENV: production\n      # Rails debug configuration\n      RAILS_ENV: ${RAILS_ENV:-development}\n      SECRET_KEY_BASE: ${SECRET_KEY_BASE}\n      RAILS_SERVE_STATIC_FILES: ${RAILS_SERVE_STATIC_FILES:-true}\n      RAILS_LOG_TO_STDOUT: \"true\"\n\n      # AWS Configuration\n      AWS_ACCESS_KEY_ID: ${AWS_ACCESS_KEY_ID}\n      AWS_SECRET_ACCESS_KEY: ${AWS_SECRET_ACCESS_KEY}\n      AWS_REGION: ${AWS_REGION:-us-east-1}\n\n      # CORS Configuration\n      CORS_ORIGINS: ${CORS_ORIGINS:-http://localhost:3000}\n    networks:\n      - backend\n    logging:\n      driver: \"json-file\"\n      options:\n        max-size: \"10m\"\n        max-file: \"3\"\n\nvolumes:\n  mysql_data_prod:\n    driver: local\n\nnetworks:\n  backend:\n    driver: bridge\n</code></pre> <p>Services Explanation</p> <ul> <li><code>db</code>: MySQL database service</li> <li><code>web</code>: Dutch Rose CMS application service</li> </ul> <p>Be sure to adjust environment variables as needed.</p>"},{"location":"cms/#4-start-services","title":"4. Start services","text":"<p>Now all you need to do is start the services:</p> <pre><code>docker-compose up -d\n</code></pre>"},{"location":"cms/#5-create-a-secret-key_1","title":"5. Create a secret key","text":"<p>Do the same as above in 5. Create a secret key</p> <p>Keep the secret key safe!</p> <ul> <li>Be sure to keep the secret key as you will need to use it in other libraries to access the CMS.</li> </ul>"},{"location":"cms/#environment-variables-reference","title":"Environment Variables Reference","text":""},{"location":"cms/#required-variables","title":"Required Variables","text":"<p>These variables must be set by the developer.</p> Variable Description Example <code>AWS_ACCESS_KEY_ID</code> AWS Access Key for S3 access <code>AAAAAAAAADNN7EXAMPLE</code> <code>AWS_SECRET_ACCESS_KEY</code> AWS Secret Access Key <code>wJalgXUtnFEiI/K7MDEwG/bPxRfxCYEEAGPLEKEY</code> <code>SECRET_KEY_BASE</code> Rails secret key for sessions Generate with <code>rake secret</code> <code>DB_PASSWORD</code> MySQL root password <code>secure_password_123</code> <code>CORS_ORIGINS</code> Allowed CORS origins (comma-separated) <code>http://localhost:3000,https://development.dutchrosemedia.com</code>"},{"location":"cms/#optional-variables","title":"Optional Variables","text":"Variable Description Default <code>DB_NAME</code> Database name <code>dutchrose_cms</code> <code>DB_USERNAME</code> Database username <code>dutchrose</code> <code>DB_HOST</code> Database host <code>db</code> <code>DB_PORT</code> Database port <code>3306</code> <code>DB_ROOT_PASSWORD</code> Database root password <code>rootpassword</code> <code>SESSION_KEY</code> Session Configuration <code>_dutchrose_cms_session</code> <code>RAILS_ENV</code> Rails environment (development or production) <code>development</code> <code>AWS_REGION</code> AWS Region for S3 <code>us-east-1</code> <code>RAILS_SERVE_STATIC_FILES</code> Serve static files from the <code>/public</code> folder <code>true</code> <code>RAILS_LOG_TO_STDOUT</code> Log to standard output <code>true</code>"},{"location":"cms/#qa-precautions","title":"Q&amp;A &amp; Precautions","text":"<p>Be careful!</p> <ul> <li>Never commit <code>.env</code> files to version control</li> <li>Rotate AWS credentials regularly</li> <li>Use IAM roles with minimal required permissions</li> <li>Keep <code>SECRET_KEY_BASE</code> secret and unique per environment</li> <li>Use strong database passwords</li> <li>Enable SSL/TLS for production deployments</li> </ul> Common Issues and Solutions <p>Issue: Permission denied errors</p> <p>Solution:</p> <ul> <li>Make scripts executable: <code>chmod +x docker-setup.sh docker-entrypoint.sh</code></li> <li>Check Docker socket permissions</li> <li>Try running with sudo (not recommended for production)</li> </ul> <p>Issue: Port 3000 already in use</p> <p>Solution:</p> <ul> <li>Stop conflicting service</li> <li>Or change port in docker-compose.yml: <code>ports: - \"8080:3000\"</code></li> </ul> <p>Issue: Complete Reset (Development Only - DESTROYS DATA)</p> <p>Solution:</p> <pre><code>docker-compose down -v\ndocker-compose build --no-cache\n./docker-setup.sh\n</code></pre>"},{"location":"placeablestoolkit/","title":"Dutch Rose Placeables Toolkit","text":""},{"location":"placeablestoolkit/#introduction","title":"Introduction","text":"<p>This toolkit is a helper library you can use in order to use AR functionalities in your project free of hustle.</p>"},{"location":"placeablestoolkit/#installation","title":"Installation","text":"<p>You can use the unity package manager to install the library:</p> <ol> <li> <p>Open package manager from Window -&gt; Package Management -&gt; Package Manager </p> </li> <li> <p>Choose the Plus Icon -&gt; Install package from git URL... </p> </li> <li> <p>Copy the <code>TODO: git url</code> and hit install.</p> </li> <li> <p>In order to import the Sample project import it from the Package Manager </p> </li> </ol>"},{"location":"placeablestoolkit/#core-components-breakdown","title":"Core Components Breakdown","text":"<pre><code>classDiagram\n  ARLifeCycleManager &lt;-- AbstractPlaceablesManager:Interfaces with\n  ARLifeCycleManager &lt;-- LifecycleUIResponder:Subscribes to\n  ARLifeCycleManager &lt;-- PlaceablesGlobalConfig:Defines configuration for\n  AbstractPlaceablesManager &lt;-- ARPlaceablesManager:Implements\n  AbstractPlaceablesManager &lt;-- Placeable:Registers to\n  ARImageTargerManager &lt;-- AbstractPlaceablesManager:Leverages\n  class LifecycleUIResponder{\n    Event based triggers for an AR Lifecycle\n  }\n  class ARLifeCycleManager{\n    Point of entry for an AR scene\n    Initiates connection\n    with underlying \n    AR SDK Parses a \n    PlaceablesGlobalConfig object.\n  }\n  class PlaceablesGlobalConfig{\n    ScriptableObject \n    allowing developers to\n    configure an AR session\n    in a flow-chart like manner\n    from the inspector\n  }\n  class ARPlaceablesManager{\n    ARFoudation specific\n    impl. of a \n    placeables manager\n  }\n  class AbstractPlaceablesManager{\n    Abstract interface \n    allowing `placeables` \n    to register themselves\n    for placement\n  }\n  class ARImageTargerManager{\n    MonoBehaviour \n    managing lifecycle of\n    an underlying \n    ARImageTracking component\n  }\n  class Placeable{\n    Scriptable object\n    defining placement\n    behaviour for AR objects\n  }</code></pre>"},{"location":"placeablestoolkit/#placeablesglobalconfig","title":"PlaceablesGlobalConfig","text":"<ul> <li> <p>Use ARKit Coaching Overlay: shows the iOS only Coaching Overlay when enabled, its functionality is detailed by Apple on this url</p> </li> <li> <p>Use Occlusion: enables depth mask/occlusion techniques, this works better on more modern phones as it can use lidar/depth sensors.</p> </li> <li> <p>DestroyPointCloudWhenTracking: tells the <code>lifecyclemanager</code> to destroy the <code>point cloud</code> when tracking is first found.</p> </li> <li> <p>DestroyPointCloudWhenPlanesFound: tells the <code>lifecyclemanager</code> to destroy the <code>point cloud</code> when planes are first found.</p> </li> <li> <p>AndroidMockInfinite: mocks the non-existent <code>infinite plane</code> on android systems.</p> </li> <li> <p>ResetARSessionOnDestroy: destroy an AR session when the containing scene is unloaded.</p> </li> <li> <p>CancelTouchesOnGestureDetection: used when \u2018pinching\u2019 is enabled, prevents a touch on the screen from triggering multiple gestures at the same time.</p> </li> <li> <p>On*Event: a number a <code>GameEvents</code> allowing developers to respond to AR lifecycle events using the <code>SOArchitecture/Events/GameEvent.cs</code> Game Event system without having to write code. </p> </li> </ul> More about <code>GameEvents</code> <p><code>GameEvents</code> is simply a concept to handle events in your application cleaner. It's a simple <code>ScriptableObject</code> with a listener alongside that can be invoked based on the events you want. OnTrackingFound and the rest of On* events are some use-cases of this pattern.</p> More info <p>Every AR scene always contains exactly one ARLifeCycleManager which initializes the AR foundation library when the scene loads.</p>"},{"location":"placeablestoolkit/#placeables","title":"Placeables","text":"<p>To simplify development in a codeless manner, the <code>Placeables</code> package lets developers define AR functionalities in a configurable manner from the inspector using <code>Placeable ScriptableObjects</code>. </p> <p>A placeable is an asset on the filesystem that can be supplied to an implementation of the <code>AbstractPlaceableManager</code> class. </p>"},{"location":"placeablestoolkit/#placeables-placement-strategies","title":"Placeables placement strategies","text":"<ul> <li>TapOnPlane: Physically mark the place to instantiate an object by tapping.</li> </ul> <ul> <li>CenterScreen: Drag an object around on the center of the screen, to then confirm placement by tapping.</li> </ul> <ul> <li> <p>CenterScreenImmediate: Instantiates an object using a raycast from the center of the screen. It does not ask the user to confirm and places immediately. </p> <ul> <li> <p>PrefabToPlace: which prefab will be used to be placed </p> </li> <li> <p>StartInEditMode: makes sure the gestureliner starts in an <code>Unlocked</code> state </p> </li> <li> <p>AnchorToPlane: leverages a concept called <code>ARAnchors</code> to make sure an object is physically anchored to a given place on a plane </p> </li> <li> <p>ScaleToFrustumWhenPlaced: scales the object to fit within the camera view when placed </p> </li> <li> <p>ClampScaleToMinAndMax: allows the developer to define a min and max scale </p> </li> <li> <p>RotateToCameraWhenPlaced: rotates the object to face the camera upon placement </p> </li> <li> <p>ImageTarget: A PNG that will be used for imagetracking. The prefab is then placed when the ImageTargetManager finds said image in the camera view. </p> </li> </ul> </li> </ul> <p></p> <ul> <li>ImageTarget: A PNG that will be used for imagetracking. The prefab is then placed when the ImageTargetManager finds said image in the camera view. </li> </ul> <p></p> <ul> <li>RelativeTransform: Place an object at a given distance and rotation from the user (currently used by ByAR) </li> </ul> <p></p>"},{"location":"placeablestoolkit/#gesture-manager","title":"Gesture Manager","text":"<p>There is a <code>GestureListener</code> <code>MonoBehaviour</code> which lets objects placed in AR easily respond to events thrown by the <code>GestureManager</code> class in a codeless manner. It is automatically attached to an instantiated prefab by the <code>PlaceablesManager</code>. </p> <pre><code>classDiagram\n  ARGestureManager &lt;-- AbstractGestureListener:Registers to\n  AbstractGestureListener &lt;-- ARGestureListener:Implements\n\n  class ARGestureListener{\n    ARFoundation specific\n    impl. of gestures listener\n  }\n  class AbstractGestureListener{\n    Abstract component letting\n    objects placed in AR receive\n    event-based manipulation\n    notifications.\n  }\n  class ARGestureManager{\n   Global component handling user input.\n   Allows easy object manipulation interactions.\n  }</code></pre>"},{"location":"placeablestoolkit/#supported-gestures","title":"Supported Gestures","text":"<ul> <li>Lock by Tap</li> <li>Unlock by long press</li> <li>Pinch in and out for scaling</li> <li>Drag the object to move</li> <li>Rotate </li> </ul>"},{"location":"placeablestoolkit/#dependencies","title":"Dependencies","text":"<ul> <li>AR Foundation</li> <li>Google ARCore XR Plugin</li> <li>Apple ARKit XR Plugin</li> <li>XR Plugin Management</li> <li>Editor Coroutines</li> <li>XR Interaction Toolkit</li> </ul>"}]}